{"ast":null,"code":"// src/api.js - single source of truth for client-side API base\n// We derive API_BASE from REACT_APP_API_URL (expected to be host only, e.g. http://localhost:5000)\n// Fallbacks:\n// - If not set and app is served by backend, use window.location.origin + '/api'\n// - Otherwise fallback to http://localhost:5000/api\n\nconst envHost = process.env.REACT_APP_API_URL || '';\nlet API_BASE = '';\nif (envHost && envHost.trim() !== '') {\n  // Use provided backend host and append /api\n  API_BASE = envHost.replace(/\\/$/, '') + '/api';\n} else if (typeof window !== 'undefined' && window.location && window.location.origin) {\n  // When frontend is served by backend in production\n  API_BASE = `${window.location.origin.replace(/\\/$/, '')}/api`;\n} else {\n  API_BASE = 'http://localhost:5000/api';\n}\n\n// Derive uploads base by removing the trailing /api segment when present\nconst UPLOADS_BASE = API_BASE.replace(/\\/api\\/?$/, '');\nexport { API_BASE, UPLOADS_BASE };\nexport default API_BASE;","map":{"version":3,"names":["envHost","process","env","REACT_APP_API_URL","API_BASE","trim","replace","window","location","origin","UPLOADS_BASE"],"sources":["C:/laragon/www/E-RAPORT-NUURUSH-SHOLAAH/e-raport-client/src/api.js"],"sourcesContent":["// src/api.js - single source of truth for client-side API base\r\n// We derive API_BASE from REACT_APP_API_URL (expected to be host only, e.g. http://localhost:5000)\r\n// Fallbacks:\r\n// - If not set and app is served by backend, use window.location.origin + '/api'\r\n// - Otherwise fallback to http://localhost:5000/api\r\n\r\nconst envHost = process.env.REACT_APP_API_URL || '';\r\nlet API_BASE = '';\r\n\r\nif (envHost && envHost.trim() !== '') {\r\n\t// Use provided backend host and append /api\r\n\tAPI_BASE = envHost.replace(/\\/$/, '') + '/api';\r\n} else if (typeof window !== 'undefined' && window.location && window.location.origin) {\r\n\t// When frontend is served by backend in production\r\n\tAPI_BASE = `${window.location.origin.replace(/\\/$/, '')}/api`;\r\n} else {\r\n\tAPI_BASE = 'http://localhost:5000/api';\r\n}\r\n\r\n// Derive uploads base by removing the trailing /api segment when present\r\nconst UPLOADS_BASE = API_BASE.replace(/\\/api\\/?$/, '');\r\n\r\nexport { API_BASE, UPLOADS_BASE };\r\nexport default API_BASE;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,EAAE;AACnD,IAAIC,QAAQ,GAAG,EAAE;AAEjB,IAAIJ,OAAO,IAAIA,OAAO,CAACK,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;EACrC;EACAD,QAAQ,GAAGJ,OAAO,CAACM,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,MAAM;AAC/C,CAAC,MAAM,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,QAAQ,IAAID,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;EACtF;EACAL,QAAQ,GAAG,GAAGG,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACH,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM;AAC9D,CAAC,MAAM;EACNF,QAAQ,GAAG,2BAA2B;AACvC;;AAEA;AACA,MAAMM,YAAY,GAAGN,QAAQ,CAACE,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;AAEtD,SAASF,QAAQ,EAAEM,YAAY;AAC/B,eAAeN,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}