{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\E-RAPORT-NUURUSH-SHOLAAH\\\\e-raport-client\\\\src\\\\dashboard\\\\surat-keluar-template\\\\page.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport DashboardLayout from '../../dashboard/layout';\nimport { useForm } from 'react-hook-form';\nimport siswaService from '../../services/siswaService';\nimport suratKeluarService from '../../services/suratKeluarService';\nimport { Label } from '../../components/ui/label';\nimport { Input } from '../../components/ui/input';\nimport { Button } from '../../components/ui/button';\nimport { useToast } from '../../components/ui/toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SuratKeluarTemplatePage() {\n  _s();\n  const [siswaOptions, setSiswaOptions] = useState([]);\n  const [selectedSiswa, setSelectedSiswa] = useState(null);\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch\n  } = useForm({\n    defaultValues: {\n      siswa_id: '',\n      penanggung_jawab: 'ayah',\n      tujuan_nama_pesantren: '',\n      tujuan_alamat_pesantren: '',\n      alasan: ''\n    }\n  });\n  const {\n    toast\n  } = useToast();\n  const penanggungJawab = watch('penanggung_jawab');\n\n  // Load siswa data once on mount\n  useEffect(() => {\n    const loadSiswa = async () => {\n      try {\n        const res = await siswaService.getAllSiswa({\n          show_all: true\n        });\n        setSiswaOptions(res || []);\n      } catch (e) {\n        console.error('Error loading siswa:', e);\n        toast({\n          title: 'Error',\n          description: 'Gagal memuat data siswa',\n          variant: 'destructive'\n        });\n      }\n    };\n    loadSiswa();\n  }, []); // Empty dependency array since we only want to load once\n\n  // Track siswa_id changes using useEffect properly\n  const siswaId = watch('siswa_id');\n  useEffect(() => {\n    const siswa = siswaOptions.find(s => s.id === Number(siswaId));\n    setSelectedSiswa(siswa || null);\n  }, [siswaId, siswaOptions]); // Only depend on siswaId and siswaOptions\n\n  // Get penanggung jawab data based on selection\n  const getPenanggungJawabData = () => {\n    if (!selectedSiswa) return null;\n    switch (penanggungJawab) {\n      case 'ayah':\n        return {\n          nama: selectedSiswa.nama_ayah,\n          pekerjaan: selectedSiswa.pekerjaan_ayah,\n          alamat: selectedSiswa.alamat_ayah\n        };\n      case 'ibu':\n        return {\n          nama: selectedSiswa.nama_ibu,\n          pekerjaan: selectedSiswa.pekerjaan_ibu,\n          alamat: selectedSiswa.alamat_ibu\n        };\n      case 'wali':\n        return {\n          nama: selectedSiswa.nama_wali,\n          pekerjaan: selectedSiswa.pekerjaan_wali,\n          alamat: selectedSiswa.alamat_wali\n        };\n    }\n  };\n  const penanggungJawabData = getPenanggungJawabData();\n  const onSubmit = async data => {\n    try {\n      if (!selectedSiswa) {\n        toast({\n          title: 'Error',\n          description: 'Pilih siswa terlebih dahulu',\n          variant: 'destructive'\n        });\n        return;\n      }\n      const pjData = getPenanggungJawabData();\n      if (!pjData || !pjData.nama) {\n        toast({\n          title: 'Error',\n          description: `Data ${penanggungJawab} tidak ditemukan. Mohon cek laman Manajemen Siswa untuk menambahkan data.`,\n          variant: 'destructive'\n        });\n        return;\n      }\n      const formData = new FormData();\n      formData.append('siswa_id', String(data.siswa_id));\n      formData.append('tujuan_nama_pesantren', data.tujuan_nama_pesantren);\n      formData.append('tujuan_alamat_pesantren', data.tujuan_alamat_pesantren);\n      formData.append('alasan', data.alasan);\n      formData.append('ortu_nama', pjData.nama);\n      formData.append('ortu_pekerjaan', pjData.pekerjaan || '');\n      formData.append('ortu_alamat', pjData.alamat || '');\n      const response = await suratKeluarService.generateFromTemplate(formData);\n\n      // Handle the downloaded file using the helper function\n      await suratKeluarService.handleFileDownload(response.data, `surat_keluar_${selectedSiswa.nama}.docx`);\n      toast({\n        title: 'Berhasil',\n        description: 'Surat keluar berhasil dibuat'\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error generating surat:', error);\n      toast({\n        title: 'Error',\n        description: (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Gagal membuat surat keluar',\n        variant: 'destructive'\n      });\n    }\n  };\n  const handleSiswaChange = e => {\n    const id = Number(e.target.value);\n    setValue('siswa_id', id);\n  };\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold mb-2\",\n          children: \"Generate Surat Keluar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted-foreground\",\n          children: \"Pilih siswa dan isi data untuk generate surat keluar otomatis.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-6\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Siswa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-full p-2 border rounded-md\",\n              ...register('siswa_id', {\n                required: true\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Pilih Siswa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), siswaOptions.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: s.id,\n                children: [s.nama, \" \", s.nis ? `- ${s.nis}` : '']\n              }, s.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Penanggung Jawab\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-full p-2 border rounded-md\",\n              ...register('penanggung_jawab'),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ayah\",\n                children: \"Ayah\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ibu\",\n                children: \"Ibu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"wali\",\n                children: \"Wali\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), selectedSiswa && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium mb-2\",\n              children: [\"Data \", penanggungJawab]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), penanggungJawabData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid gap-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Nama:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 24\n                }, this), \" \", penanggungJawabData.nama || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pekerjaan:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 24\n                }, this), \" \", penanggungJawabData.pekerjaan || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Alamat:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 24\n                }, this), \" \", penanggungJawabData.alamat || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-yellow-600\",\n              children: [\"Data \", penanggungJawab, \" tidak ditemukan. Mohon cek laman Manajemen Siswa untuk menambahkan data.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: \"Nama Pesantren Tujuan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                ...register('tujuan_nama_pesantren', {\n                  required: true\n                }),\n                placeholder: \"Contoh: Pesantren Al-Hidayah\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: \"Alamat Pesantren Tujuan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                ...register('tujuan_alamat_pesantren', {\n                  required: true\n                }),\n                placeholder: \"Contoh: Jl. Raya No. 123, Kota\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Alasan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              ...register('alasan', {\n                required: true\n              }),\n              placeholder: \"Alasan keluar/pindah\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: !selectedSiswa || !(penanggungJawabData !== null && penanggungJawabData !== void 0 && penanggungJawabData.nama),\n            children: \"Generate Surat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n_s(SuratKeluarTemplatePage, \"MFIOsPD8YPX3T761slsHD6wOd04=\", false, function () {\n  return [useForm, useToast];\n});\n_c = SuratKeluarTemplatePage;\nvar _c;\n$RefreshReg$(_c, \"SuratKeluarTemplatePage\");","map":{"version":3,"names":["React","useEffect","useState","DashboardLayout","useForm","siswaService","suratKeluarService","Label","Input","Button","useToast","jsxDEV","_jsxDEV","SuratKeluarTemplatePage","_s","siswaOptions","setSiswaOptions","selectedSiswa","setSelectedSiswa","register","handleSubmit","setValue","watch","defaultValues","siswa_id","penanggung_jawab","tujuan_nama_pesantren","tujuan_alamat_pesantren","alasan","toast","penanggungJawab","loadSiswa","res","getAllSiswa","show_all","e","console","error","title","description","variant","siswaId","siswa","find","s","id","Number","getPenanggungJawabData","nama","nama_ayah","pekerjaan","pekerjaan_ayah","alamat","alamat_ayah","nama_ibu","pekerjaan_ibu","alamat_ibu","nama_wali","pekerjaan_wali","alamat_wali","penanggungJawabData","onSubmit","data","pjData","formData","FormData","append","String","response","generateFromTemplate","handleFileDownload","_error$response","_error$response$data","message","handleSiswaChange","target","value","children","className","fileName","_jsxFileName","lineNumber","columnNumber","required","map","nis","placeholder","type","disabled","_c","$RefreshReg$"],"sources":["C:/laragon/www/E-RAPORT-NUURUSH-SHOLAAH/e-raport-client/src/dashboard/surat-keluar-template/page.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport DashboardLayout from '../../dashboard/layout'\r\nimport { useForm } from 'react-hook-form'\r\nimport siswaService from '../../services/siswaService'\r\nimport suratKeluarService from '../../services/suratKeluarService'\r\nimport { Label } from '../../components/ui/label'\r\nimport { Input } from '../../components/ui/input'\r\nimport { Select } from '../../components/ui/select'\r\nimport { Button } from '../../components/ui/button'\r\nimport { useToast } from '../../components/ui/toast'\r\n\r\ntype FormValues = {\r\n  siswa_id: number | ''\r\n  penanggung_jawab: 'ayah' | 'ibu' | 'wali'\r\n  tujuan_nama_pesantren: string\r\n  tujuan_alamat_pesantren: string\r\n  alasan: string\r\n}\r\n\r\ntype SiswaData = {\r\n  id: number\r\n  nama: string\r\n  nis?: string\r\n  nama_ayah?: string\r\n  pekerjaan_ayah?: string\r\n  alamat_ayah?: string\r\n  nama_ibu?: string\r\n  pekerjaan_ibu?: string\r\n  alamat_ibu?: string\r\n  nama_wali?: string\r\n  pekerjaan_wali?: string\r\n  alamat_wali?: string\r\n}\r\n\r\nexport default function SuratKeluarTemplatePage() {\r\n  const [siswaOptions, setSiswaOptions] = useState<SiswaData[]>([])\r\n  const [selectedSiswa, setSelectedSiswa] = useState<SiswaData | null>(null)\r\n  const { register, handleSubmit, setValue, watch } = useForm<FormValues>({ \r\n    defaultValues: { \r\n      siswa_id: '', \r\n      penanggung_jawab: 'ayah',\r\n      tujuan_nama_pesantren: '', \r\n      tujuan_alamat_pesantren: '', \r\n      alasan: ''\r\n    } \r\n  })\r\n  const { toast } = useToast()\r\n  const penanggungJawab = watch('penanggung_jawab')\r\n\r\n  // Load siswa data once on mount\r\n  useEffect(() => {\r\n    const loadSiswa = async () => {\r\n      try {\r\n        const res = await siswaService.getAllSiswa({ show_all: true })\r\n        setSiswaOptions(res || [])\r\n      } catch (e) { \r\n        console.error('Error loading siswa:', e)\r\n        toast({\r\n          title: 'Error',\r\n          description: 'Gagal memuat data siswa',\r\n          variant: 'destructive'\r\n        })\r\n      }\r\n    }\r\n    loadSiswa()\r\n  }, []) // Empty dependency array since we only want to load once\r\n\r\n  // Track siswa_id changes using useEffect properly\r\n  const siswaId = watch('siswa_id')\r\n  useEffect(() => {\r\n    const siswa = siswaOptions.find(s => s.id === Number(siswaId))\r\n    setSelectedSiswa(siswa || null)\r\n  }, [siswaId, siswaOptions]) // Only depend on siswaId and siswaOptions\r\n\r\n  // Get penanggung jawab data based on selection\r\n  const getPenanggungJawabData = () => {\r\n    if (!selectedSiswa) return null\r\n\r\n    switch (penanggungJawab) {\r\n      case 'ayah':\r\n        return {\r\n          nama: selectedSiswa.nama_ayah,\r\n          pekerjaan: selectedSiswa.pekerjaan_ayah,\r\n          alamat: selectedSiswa.alamat_ayah,\r\n        }\r\n      case 'ibu':\r\n        return {\r\n          nama: selectedSiswa.nama_ibu,\r\n          pekerjaan: selectedSiswa.pekerjaan_ibu,\r\n          alamat: selectedSiswa.alamat_ibu,\r\n        }\r\n      case 'wali':\r\n        return {\r\n          nama: selectedSiswa.nama_wali,\r\n          pekerjaan: selectedSiswa.pekerjaan_wali,\r\n          alamat: selectedSiswa.alamat_wali,\r\n        }\r\n    }\r\n  }\r\n\r\n  const penanggungJawabData = getPenanggungJawabData()\r\n\r\n  const onSubmit = async (data: FormValues) => {\r\n    try {\r\n      if (!selectedSiswa) {\r\n        toast({\r\n          title: 'Error',\r\n          description: 'Pilih siswa terlebih dahulu',\r\n          variant: 'destructive'\r\n        });\r\n        return;\r\n      }\r\n\r\n      const pjData = getPenanggungJawabData();\r\n      if (!pjData || !pjData.nama) {\r\n        toast({\r\n          title: 'Error',\r\n          description: `Data ${penanggungJawab} tidak ditemukan. Mohon cek laman Manajemen Siswa untuk menambahkan data.`,\r\n          variant: 'destructive'\r\n        });\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append('siswa_id', String(data.siswa_id));\r\n      formData.append('tujuan_nama_pesantren', data.tujuan_nama_pesantren);\r\n      formData.append('tujuan_alamat_pesantren', data.tujuan_alamat_pesantren);\r\n      formData.append('alasan', data.alasan);\r\n      formData.append('ortu_nama', pjData.nama);\r\n      formData.append('ortu_pekerjaan', pjData.pekerjaan || '');\r\n      formData.append('ortu_alamat', pjData.alamat || '');\r\n\r\n      const response = await suratKeluarService.generateFromTemplate(formData);\r\n      \r\n      // Handle the downloaded file using the helper function\r\n      await suratKeluarService.handleFileDownload(\r\n        response.data,\r\n        `surat_keluar_${selectedSiswa.nama}.docx`\r\n      );\r\n\r\n      toast({\r\n        title: 'Berhasil',\r\n        description: 'Surat keluar berhasil dibuat',\r\n      });\r\n    } catch (error: any) {\r\n      console.error('Error generating surat:', error);\r\n      toast({\r\n        title: 'Error',\r\n        description: error?.response?.data?.message || 'Gagal membuat surat keluar',\r\n        variant: 'destructive'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSiswaChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const id = Number(e.target.value)\r\n    setValue('siswa_id', id)\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"p-6\">\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-2xl font-bold mb-2\">Generate Surat Keluar</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Pilih siswa dan isi data untuk generate surat keluar otomatis.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid gap-6\">\r\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n            {/* Siswa */}\r\n            <div>\r\n              <Label>Siswa</Label>\r\n              <select \r\n                className=\"w-full p-2 border rounded-md\"\r\n                {...register('siswa_id', { required: true })}\r\n              >\r\n                <option value=\"\">Pilih Siswa</option>\r\n                {siswaOptions.map(s => (\r\n                  <option key={s.id} value={s.id}>{s.nama} {s.nis ? `- ${s.nis}` : ''}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Penanggung Jawab Selection */}\r\n            <div>\r\n              <Label>Penanggung Jawab</Label>\r\n              <select \r\n                className=\"w-full p-2 border rounded-md\"\r\n                {...register('penanggung_jawab')}\r\n              >\r\n                <option value=\"ayah\">Ayah</option>\r\n                <option value=\"ibu\">Ibu</option>\r\n                <option value=\"wali\">Wali</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Display Penanggung Jawab Data */}\r\n            {selectedSiswa && (\r\n              <div className=\"bg-gray-50 p-4 rounded-md\">\r\n                <h3 className=\"font-medium mb-2\">Data {penanggungJawab}</h3>\r\n                {penanggungJawabData ? (\r\n                  <div className=\"grid gap-2 text-sm\">\r\n                    <p><strong>Nama:</strong> {penanggungJawabData.nama || '-'}</p>\r\n                    <p><strong>Pekerjaan:</strong> {penanggungJawabData.pekerjaan || '-'}</p>\r\n                    <p><strong>Alamat:</strong> {penanggungJawabData.alamat || '-'}</p>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-yellow-600\">\r\n                    Data {penanggungJawab} tidak ditemukan. Mohon cek laman Manajemen Siswa untuk menambahkan data.\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Data Pesantren Tujuan */}\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              <div>\r\n                <Label>Nama Pesantren Tujuan</Label>\r\n                <Input \r\n                  {...register('tujuan_nama_pesantren', { required: true })} \r\n                  placeholder=\"Contoh: Pesantren Al-Hidayah\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Alamat Pesantren Tujuan</Label>\r\n                <Input \r\n                  {...register('tujuan_alamat_pesantren', { required: true })} \r\n                  placeholder=\"Contoh: Jl. Raya No. 123, Kota\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Alasan */}\r\n            <div>\r\n              <Label>Alasan</Label>\r\n              <Input \r\n                {...register('alasan', { required: true })} \r\n                placeholder=\"Alasan keluar/pindah\"\r\n              />\r\n            </div>\r\n\r\n            <Button \r\n              type=\"submit\"\r\n              disabled={!selectedSiswa || !penanggungJawabData?.nama}\r\n            >\r\n              Generate Surat\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}